(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1976:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,4816,23)),Promise.resolve().then(s.bind(s,1982)),Promise.resolve().then(s.bind(s,2482))},1982:(e,t,s)=>{"use strict";s.d(t,{DashboardActions:()=>o});var l=s(8481),a=s(8526),r=s(3973);function n(e){let{isOpen:t,onClose:s}=e,n=(0,r.useRouter)(),[o,i]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[h,x]=(0,a.useState)(!1),[b,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{t||(i(""),d(""),m(""),g(null))},[t]),(0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t&&s()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,s]);let p=(0,a.useCallback)(async e=>{e.preventDefault(),g(null),x(!0);try{let e=u.split(",").map(e=>e.trim()).filter(e=>e.length>0),t=await fetch("/api/items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:o,content:c,tags:e})});if(!t.ok){let e=t.headers.get("content-type");if(null==e?void 0:e.includes("application/json")){let e=await t.json();throw Error(e.error||"Failed to create item")}throw Error("Server error: ".concat(t.status," ").concat(t.statusText))}n.refresh(),s()}catch(e){g(e instanceof Error?e.message:"An error occurred")}finally{x(!1)}},[o,c,u,n,s]);return t?(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e=>e.target===e.currentTarget&&s(),children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg mx-4 p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Capture New Thought"}),b&&(0,l.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded",children:b}),(0,l.jsxs)("form",{onSubmit:p,children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,l.jsx)("input",{type:"text",id:"title",value:o,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Brief title for your thought",required:!0,disabled:h})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),(0,l.jsx)("textarea",{id:"content",value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-32 resize-none",placeholder:"Full details of what you want to capture...",required:!0,disabled:h})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:["Tags ",(0,l.jsx)("span",{className:"text-gray-400",children:"(comma-separated)"})]}),(0,l.jsx)("input",{type:"text",id:"tags",value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"work, idea, follow-up",disabled:h})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,l.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-600 hover:text-gray-800",disabled:h,children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",disabled:h,children:h?"Saving...":"Save"})]})]})]})}):null}function o(){let[e,t]=(0,a.useState)(!1);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 flex items-center justify-center text-2xl z-40","aria-label":"Add new thought",children:"+"}),(0,l.jsx)(n,{isOpen:e,onClose:()=>t(!1)})]})}},2482:(e,t,s)=>{"use strict";s.d(t,{FilterBar:()=>n});var l=s(8481),a=s(3973),r=s(8526);function n(e){let{tags:t,themes:s,activeStatus:n,activeTags:o,activeTheme:i}=e,c=(0,a.useRouter)(),d=(0,a.useSearchParams)(),u=(0,r.useCallback)(e=>{let t=new URLSearchParams(d.toString());void 0!==e.status&&("all"===e.status?t.delete("status"):t.set("status",e.status)),void 0!==e.tags&&(0===e.tags.length?t.delete("tags"):t.set("tags",e.tags.join(","))),void 0!==e.theme&&(null===e.theme?t.delete("theme"):t.set("theme",e.theme));let s=t.toString();c.push(s?"/?".concat(s):"/")},[c,d]),m="all"!==n||o.length>0||null!==i;return(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-8",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-800",children:"Filters"}),m&&(0,l.jsx)("button",{onClick:()=>{c.push("/")},className:"text-sm text-blue-600 hover:text-blue-800",children:"Reset"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Status"}),(0,l.jsx)("div",{className:"flex gap-2",children:["all","open","resolved"].map(e=>(0,l.jsx)("button",{onClick:()=>u({status:e}),className:"px-3 py-1 text-sm rounded-full transition-colors ".concat(n===e?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),t.length>0&&(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Tags"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(e=>(0,l.jsx)("button",{onClick:()=>{u({tags:o.includes(e)?o.filter(t=>t!==e):[...o,e]})},className:"px-3 py-1 text-sm rounded-full transition-colors ".concat(o.includes(e)?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:e},e))})]}),s.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Themes"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map(e=>(0,l.jsx)("button",{onClick:()=>{u({theme:i===e?null:e})},className:"px-3 py-1 text-sm rounded-full transition-colors ".concat(i===e?"bg-purple-600 text-white":"bg-purple-100 text-purple-700 hover:bg-purple-200"),children:e},e))})]})]})}},3973:(e,t,s)=>{"use strict";var l=s(6145);s.o(l,"useRouter")&&s.d(t,{useRouter:function(){return l.useRouter}}),s.o(l,"useSearchParams")&&s.d(t,{useSearchParams:function(){return l.useSearchParams}})}},e=>{e.O(0,[816,59,498,358],()=>e(e.s=1976)),_N_E=e.O()}]);